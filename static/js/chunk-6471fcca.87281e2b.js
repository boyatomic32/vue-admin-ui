(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6471fcca"],{"2a79":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n={CN:"China",EU:"Eurozone",JP:"Japan",US:"USA"},i={published:"success",draft:"info",deleted:"danger"},r={typeFilter:n,statusMap:i};function o(e,t){return e&&t?r[e]?r[e][t]:void console.error("没有设置此字典 - "+e):""}},"3f8d":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i={class:"app-container"},r=Object(n["createTextVNode"])(" Add "),o=Object(n["createElementVNode"])("i",{class:"el-icon-delete"},null,-1),c=Object(n["createTextVNode"])(" Delete "),l={class:"fixed-width"},s=Object(n["createTextVNode"])(" Edit "),u=Object(n["createElementVNode"])("i",{class:"el-icon-delete"},null,-1),d=Object(n["createTextVNode"])(" Delete "),p=Object(n["createElementVNode"])("i",{class:"el-icon-picture-outline"},null,-1),m=Object(n["createTextVNode"])(" Select File ");function b(e,t,a,b,f,g){var j=Object(n["resolveComponent"])("el-button"),O=Object(n["resolveComponent"])("el-avatar"),v=Object(n["resolveComponent"])("el-tag"),h=Object(n["resolveComponent"])("svg-icon"),C=Object(n["resolveComponent"])("ProTable"),_=Object(n["resolveComponent"])("file-upload"),k=Object(n["resolveComponent"])("el-form-item"),w=Object(n["resolveComponent"])("ProForm"),x=Object(n["resolveComponent"])("ProDialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createVNode"])(C,{ref:"carTable",border:"","show-selection":"",columns:b.columns,data:b.loadData,"query-param":b.queryParam,"default-sort":{prop:"id",order:"ascending"},onSortChange:b.sortChange,onSelectionChange:b.handleSelectionChange},{btn:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{type:"primary",icon:"el-icon-plus",onClick:b.handleCreate},{default:Object(n["withCtx"])((function(){return[r]})),_:1},8,["onClick"]),Object(n["createVNode"])(j,{type:"danger",disabled:0===b.multipleSelection.length},{default:Object(n["withCtx"])((function(){return[o,c]})),_:1},8,["disabled"])]})),cover:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{shape:"square",size:80,fit:"cover",src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"})]})),status:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(v,{type:b.tagStatus(e.row.status)},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(b.statusName(e.row.status)),1)]})),_:2},1032,["type"])]})),status_car:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(v,{type:b.tagStatus(e.row.status_car)},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(b.statusName(e.row.status_car)),1)]})),_:2},1032,["type"])]})),actions:Object(n["withCtx"])((function(e){return[Object(n["createElementVNode"])("span",l,[Object(n["createVNode"])(j,{type:"primary",size:"mini",onClick:function(t){return b.handleUpdate(e.row)}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(h,{"icon-class":"edit"}),s]})),_:2},1032,["onClick"]),Object(n["createVNode"])(j,{size:"mini",type:"danger",onClick:function(t){return b.handleDelete(e.row)}},{default:Object(n["withCtx"])((function(){return[u,d]})),_:2},1032,["onClick"])])]})),_:1},8,["columns","data","query-param","onSortChange","onSelectionChange"]),Object(n["createVNode"])(x,{modelValue:b.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.dialogVisible=e}),title:b.dialogTitle,width:"50%","confirm-loading":b.confirmLoading,onClose:b.handleDialogClose,onOk:b.handleDialogOk},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(w,{ref:"ProForm","form-param":b.form,"form-list":b.columns,layout:{formWidth:"560px",labelWidth:"100px"},onProSubmit:b.proSubmit},{cover:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(k,{label:"Cover : "},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(j,{type:"info",round:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{ref:"upload",modelValue:b.files,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.files=e}),extensions:"gif,jpg,jpeg,png",accept:"image/png,image/gif,image/jpeg",multiple:!1,onInputFilter:b.inputFilter,onInputFile:b.inputFile},{default:Object(n["withCtx"])((function(){return[p,m]})),_:1},8,["modelValue","onInputFilter","onInputFile"])]})),_:1})]})),_:1})]})),_:1},8,["form-param","form-list","onProSubmit"])]})),_:1},8,["modelValue","title","confirm-loading","onClose","onOk"])])}a("a434"),a("4e82"),a("e9c4"),a("c740"),a("d3b7"),a("ac1f"),a("00b4"),a("b0c0"),a("b775");function f(e){return console.log("query",e),Promise.resolve({code:2e4,data:{total:10,items:[{id:"16",truckid:"",gps_id:"860585005101414",car_registation:"83-1521",description:"",image:"",status:1,last_update:"2020-09-15 16:25:42",remark:null},{id:"15",truckid:"",gps_id:"860585005093637",car_registation:"83-0554",description:"",image:"",status:1,last_update:"2020-07-29 16:09:43",remark:null},{id:"14",truckid:"13678",gps_id:"860585007125734",car_registation:"82-4839",description:"Truck",image:"",status:1,last_update:"2020-07-01 15:47:48",remark:null},{id:"7",truckid:"14229",gps_id:"860585005093660",car_registation:"83-3543 ปราบขยะ",description:"860585005093660 > 83-3543 ปราบขยะ",image:"2c181c1bb39db86eb8817338bd130022.jpg",status:1,last_update:"2020-06-13 23:42:39",remark:null},{id:"12",truckid:"14389",gps_id:"860585005100465",car_registation:"83-0855",description:"Truck",image:"",status:1,last_update:"2020-04-25 21:40:47",remark:null},{id:"13",truckid:"14549",gps_id:"860585005100051",car_registation:"83-5350 ปราบขยะ",description:"Truck",image:"",status:1,last_update:"2020-04-24 15:04:48",remark:null},{id:"10",truckid:"13785",gps_id:"860585005093702",car_registation:"83-4356 ปราบขยะ",description:"860585005093702 > 83-4356 ปราบขยะ",image:"dbeb71db73ec0f20413410557763e4e3.jpg",status:1,last_update:"2020-02-06 15:56:39",remark:null},{id:"8",truckid:"14393",gps_id:"860585005093645",car_registation:"83-0163 ปราบขยะ",description:"860585005093645 > 83-0163 ปราบขยะ",image:"30076a54a4ba7d80797f0475a2528da3.jpg",status:1,last_update:"2020-02-06 15:56:17",remark:null},{id:"11",truckid:"14152",gps_id:"860585005092555",car_registation:"82-4838",description:"Truck",image:"",status:1,last_update:"2020-01-15 00:11:47",remark:null},{id:"9",truckid:"14451",gps_id:"860585005096010",car_registation:"82-1019 ปราบขยะ",description:"860585005096010 > 82-1019 ปราบขยะ",image:"566374dee890612c3025a1606883eac7.jpg",status:1,last_update:"2019-08-08 15:20:11",remark:null}]}})}var g=[{dataIndex:"id",width:80,title:"ID",noTable:!1,sortable:"custom"},{dataIndex:"cover",width:100,title:"Cover",scopedSlots:{customRender:"cover"}},{dataIndex:"driver",title:"Driver",valueType:"select",option:[{label:"83 - 1521",value:1},{label:"83-0554 ปราบขยะ",value:2},{label:"82-4839 ปราบขยะ",value:3}],noTable:!0,isForm:!0,placeholder:"กรุณาเลือกคนขับรถ",prop:[{required:!0,message:"กรุณาเลือกคนขับรถ",trigger:"change"}]},{dataIndex:"car_registation",width:200,title:"Car Code",isForm:!0,valueType:"input",prop:[{required:!0,message:"กรุณาป้อนเลขทะเบียนรถ"}],placeholder:"เลขทะเบียนรถ"},{dataIndex:"gps_id",minWidth:200,title:"GPS ID",isForm:!0,valueType:"input",prop:[{required:!0,message:"กรุณาป้อนรหัส GPS"}],placeholder:"กรุณาป้อนรหัส GPS"},{dataIndex:"car_detail",title:"Car Detail",valueType:"input",inpuType:"textarea",noTable:!0,isForm:!0,placeholder:"รายละเอียดรถ"},{dataIndex:"status",width:100,title:"Status",scopedSlots:{customRender:"status"},isForm:!0,valueType:"switch"},{dataIndex:"last_update",width:200,title:"Update At",scopedSlots:{customRender:"date"},valueType:"date-picker",attrs:{type:"date",format:"YYYY-MM-DD HH-mm-ss","start-placeholder":"Please select Date"}},{dataIndex:"actions",fixed:"right",width:180,title:"Actions",scopedSlots:{customRender:"actions"}},{dataIndex:"cover",title:"Cover",scopedSlots:{customRender:"cover"},isForm:!0,noTable:!0,form_slot:"cover"}],j=a("6573"),O=a.n(j),v=a("2a79"),h=a("ed08"),C=a("8019"),_=a.n(C),k={name:"CarPage",components:{FileUpload:_.a},setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(g),a=Object(n["reactive"])({sort:"desc",keyword:"",sortName:""}),i=Object(n["ref"])([]),r=Object(n["ref"])(""),o=Object(n["ref"])(!1),c=Object(n["ref"])(),l=Object(n["ref"])(!1),s={id:void 0,name:"",email:"",phone:"",password:"",facebookID:"",status:1,level:1,car:0,pic:"",last_update:"",partner_id:0,player_id:"",car_registation:""},u=Object(n["reactive"])(Object.assign({},s)),d=Object(n["ref"])(!1),p=null,m=v["a"];function b(e){var t=Object.assign({},e,a);return f(t).then((function(e){return e}))}function j(t,a){console.log(Object(n["toRaw"])(t)),O()({message:"Success",type:"success"}),e.value.list.splice(a,1)}function C(e){console.log(e);var t=e.prop,a=e.order;"id"===t&&_(a)}function _(t){a.sort="ascending"===t?"asc":"desc",e.value.refresh(!0)}function k(e){i.value=e}function w(e){var t="";switch(e){case 1:t="success";break;case 2:t="info";break;case 3:t="warning";break;default:t="danger"}return t}function x(e){var t="";switch(e){case 1:t="Active";break;case 2:t="-";break;case 3:t="-";break;default:t="InActive"}return t}function y(){Object.assign(u,s),r.value="Create",d.value=!1,o.value=!0}function S(){u.id=parseInt(100*Math.random())+1024,u.timestamp=Object(h["f"])(u.timestamp),p=JSON.parse(JSON.stringify(Object(n["toRaw"])(u)))}function N(){p.author="vue3",p.reviewer="element-plus",p.pageviews=0,e.value.list.unshift(p),o.value=!1}function V(e){r.value="Update",Object(h["b"])(u,e),p=JSON.parse(JSON.stringify(Object(n["toRaw"])(e))),u.timestamp=Object(h["f"])(u.timestamp),d.value=!0,o.value=!0}function T(){}function D(){Object.assign(p,u);var t=e.value.list.findIndex((function(e){return e.id===p.id}));e.value.list.splice(t,1,p),o.value=!1}function F(){c.value.handleSubmit()}function I(){l.value=!0;var e=d.value?T:S;e(u).then((function(e){O()({message:e.msg,type:"success"}),P()})).finally((function(){l.value=!1}))}function P(){return d.value?D():N()}function U(){console.log("handleDialogClose"),d.value=!1,o.value=!1}var q=Object(n["ref"])(null),E=Object(n["ref"])([]);function J(e,t,a){if(e&&!t){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(e.name))return a();if(/\.(php5?|html?|jsx?)$/i.test(e.name))return a()}}function R(e,t){e&&!t&&console.log("add",e)}return{proTable:e,queryParam:a,columns:t,dialogVisible:o,dialogTitle:r,ProForm:c,confirmLoading:l,isEdit:d,form:u,multipleSelection:i,loadData:b,dict:m,handleUpdate:V,handleDelete:j,sortChange:C,handleCreate:y,handleDialogOk:F,proSubmit:I,handleDialogClose:U,handleSelectionChange:k,tagStatus:w,statusName:x,files:E,upload:q,inputFilter:J,inputFile:R}}},w=a("6b0d"),x=a.n(w);const y=x()(k,[["render",b]]);t["default"]=y}}]);